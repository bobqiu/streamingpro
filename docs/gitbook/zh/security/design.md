# MLSQL统一授权体系设计原理

原理可以用如下流程来解释：

```
mlsql脚本 MLSQL-Console  ------->  MLSQL-Engine
                                   ^   | 
                               |     解析MLSQL
                            |           | 
                                脚本中所有表信息,当前用户                                   
                          |             |
                       |            权限中心client -------------> 权限中心
                    |                   |                            |
                    <---授权结果 ------权限中心client    <----------- | 

```

基本描述就是：

1. MLSQL Engine接脚本，检查是否开启授权验证
2. 如果开启，则解析该脚本所有表，然后获取表相关信息如数据源类型，表名，操作类型（create/save等）
3. 检查用户配置的clien实现，调用其代码
4. 用户client需要连接自己的授权中心，查看执行脚本的用户是否对这些表有相应的权限啊
5. 返回权限验证结果。
6. 失败，则MLSQL Engine会拒绝执行该脚本。
7. 成功，则MLSQL Engine会继续执行该脚本。


用户需要自己实现权限中心client以及权限中心服务，从而开启MLSQL Engine的权限验证功能。